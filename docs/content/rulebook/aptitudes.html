<!DOCTYPE html>
<html lang="en" data-env="vsc">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aptitudes</title>
    <link rel="stylesheet" href="https://glaeder27.github.io/seeker-ttrpg/style/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- PAGE-SPECIFIC STYLES -->
    <style>
        .aptitude-grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: .5em;
            margin-top: 1em;
            padding-bottom: 1em;
            align-items: start;
        }

        .aptitude-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
        }

        .aptitude-card {
            background-color: #484848;
            border-radius: 10px;
            padding: .3em 1em 1em 1em;
            display: flex;
            flex-direction: column;
            color: var(--off-white);
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }

        .aptitude-description-container {
            flex-grow: 1;
        }

        .aptitude-top-combat {
            min-height: 290px;
        }

        .aptitude-top-exploration {
            min-height: 330px;
        }

        .aptitude-top-social {
            min-height: 380px;
        }

        .aptitude-bottom {
            padding-top: 1rem;
        }

        .aptitude-card:hover .icon {
            transform: scale(1.1);
        }

        .aptitude-card .icon {
            width: 128px;
            height: 128px;
            border-radius: 8px;
            background: linear-gradient(to right, var(--burnt-copper), var(--ancient-gold));
            padding: 3px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
            transition: all 0.5s ease-out;
        }

        .icon-inner {
            width: 100%;
            height: 100%;
            background-color: #383838;
            border-radius: 6px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .icon-inner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .aptitude-card .icon img {
            width: 128px;
            height: 128px;
        }

        .aptitude-card h4 {
            font-size: 1.4em;
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--off-white);
            border-bottom: none;
            text-transform: uppercase;
            text-align: center;
            margin: 0 auto !important;
        }

        .aptitude-card p {
            font-size: 0.85em;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .aptitude-card .tags {
            font-size: 0.8em;
            color: #ccc;
            margin-top: auto;
        }

        .aptitude-category-title {
            font-size: 1.3em !important;
            margin-bottom: -20px !important;
            color: var(--off-white);
            border-bottom: none !important;
            padding-bottom: 5px;
            width: 100%;
            grid-column: 1 / -1;
            text-transform: uppercase;
        }

        .aptitude-category-description {
            line-height: 1.6;
            margin-bottom: 0px;
            color: var(--off-white);
            grid-column: 1 / -1;
        }

        .aptitude-card .aptitude-description-container {
            flex-grow: 1;
            margin-bottom: 10px;
        }

        .aptitude-what {
            font-weight: normal;
            color: #bbb;
            margin-bottom: 0.3rem;
        }

        .aptitude-used {
            font-weight: 500;
            color: #eee;
        }

        .aptitude-collapsible summary {
            cursor: pointer;
            font-weight: 600;
            margin-top: 0.5rem;
            color: #ddd;

        }

        .aptitude-collapsible summary {
            list-style: none;
            cursor: pointer;
            font-weight: 600;
            color: #ddd;
            position: relative;
            padding-right: 1.5rem;
            user-select: none;
        }

        .aptitude-collapsible summary::-webkit-details-marker {
            display: none;
        }

        .aptitude-collapsible summary::after {
            content: '›';
            position: absolute;
            right: 0;
            top: 0;
            transform: rotate(0deg);
            transition: transform 0.2s ease;
        }

        .aptitude-collapsible[open] summary::after {
            transform: rotate(90deg);
        }

        .aptitude-collapsible[open] summary::after {
            transform: rotate(90deg);
        }

        .aptitude-collapsible p {
            margin: 0.4rem 0 0 0;
            padding-left: 0.5rem;
            color: #aaa;
            font-size: 0.8rem;
            user-select: none;
        }

        .calculator {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5em;
            margin-top: 1em;
        }

        .aptitude-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5em;
            background: #393939;
            padding: 0.4em 0.6em;
            border-radius: 6px;
        }

        .aptitude-row label {
            display: flex;
            align-items: center;
            gap: 0.5em;
            font-weight: 500;
            color: var(--off-white);
        }

        .aptitude-icon {
            width: 24px;
            height: 24px;
            filter: brightness(1.3);
        }

        .aptitude-row input[type="number"] {
            -webkit-appearance: none;
            background: #222;
            color: #eee;
            width: 45px;
            padding: 0.2em;
            text-align: center;
            border-radius: 4px;
            border: 1px solid var(--ancient-gold);
            font-weight: bold;
        }

        .aptitude-value {
            min-width: 20px;
            text-align: center;
            font-weight: 700;
            font-size: 1.1em;
            color: var(--off-white);
        }

        .aptitude-row input[type=number]::-webkit-inner-spin-button,
        .aptitude-row input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .aptitude-value.maxed {
            color: var(--ancient-gold);
            font-weight: bold;
        }

        .calculator-footer {
            margin-top: 1em;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5em;
            align-items: center;
        }

        .calculator-buttons {
            display: flex;
            align-items: center;
            gap: .25em;
        }

        .calculator-buttons button {
            background-color: var(--burnt-copper);
            border: none;
            border-radius: 4px;
            color: var(--off-white);
            font-size: 1em;
            width: 20px;
            height: 20px;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.3s ease;
        }

        .calculator-buttons button:disabled {
            background-color: #666;
            cursor: not-allowed;
        }

        .calculator-buttons button:hover:not(:disabled) {
            background-color: var(--ancient-gold);
        }

        #reset-button,
        #copy-button {
            background-color: var(--burnt-copper);
            color: #fff;
            border: none;
            padding: 0.4em 1em;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            font-family: var(--default-font);
        }

        #reset-button:hover,
        #copy-button:hover {
            background-color: var(--ancient-gold);
            color: #222;
        }

        .pyramid-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 1em 0;
            gap: .5em;
        }

        .pyramid-row {
            display: flex;
            justify-content: center;
            gap: 0.5em;
        }

        .pyramid-selector {
            max-width: 320px;
            margin: 1em auto 2em;
            font-family: var(--default-font), serif;
            color: var(--text-color, #eee);
            user-select: none;
            text-align: center;
        }

        .pyramid-selector .calculator-description {
            font-size: 0.85rem;
            margin-bottom: 0.75em;
            color: var(--muted-text, #aaa);
        }

        .pyramid-top {
            justify-content: center;
        }

        .pyramid-top::after {
            content: "+3";
            position: auto;
            font-weight: bold;
            color: var(--ancient-gold, #d4b55a);
            font-size: 1.2rem;
            pointer-events: none;
        }

        .pyramid-mid {
            justify-content: center;
        }

        .pyramid-mid::after {
            content: "+2";
            position: auto;
            font-weight: bold;
            color: var(--ancient-gold, #d4b55a);
            font-size: 1.1rem;
            pointer-events: none;
        }

        .pyramid-bottom {
            justify-content: center;
        }

        .pyramid-bottom::after {
            content: "+1";
            position: auto;
            font-weight: bold;
            color: var(--ancient-gold, #d4b55a);
            font-size: 1rem;
            pointer-events: none;
        }

        .pyramid-block-outer {
            background: linear-gradient(to right, var(--burnt-copper), var(--ancient-gold));
        }

        .pyramid-block {
            background-color: var(--background-grey-1), #fff;
            color: #fff;
            font-weight: bold;
            font-family: var(--default-font);
            width: 2.4em;
            height: 2.4em;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s ease, border-color 0.3s ease;
            user-select: none;
        }

        .pyramid-block.selected {
            background-color: var(--ancient-gold, #D4B55A);
            color: #111;
            border-color: var(--ancient-gold, #D4B55A);
        }

        .pyramid-note {
            font-size: 0.85em;
            color: var(--text-muted, #aaa);
            margin-top: 0.5em;
            margin-bottom: 1em;
        }

        .pyramid-counter {
            font-size: 0.9em;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color, #666);
            padding: 0.8em 1em;
            border-radius: 8px;
            margin-bottom: 1em;
            color: var(--text-color, #ddd);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1em;
            flex-wrap: wrap;
        }

        .pyramid-counter span {
            font-weight: bold;
            color: var(--ancient-gold, #D4B55A);
        }

        #reset-pyramid {
            background-color: var(--burnt-copper);
            color: #fff;
            border: none;
            font-size: 0.85em;
            padding: 0.4em 0.8em;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #reset-pyramid:hover {
            background-color: var(--ancient-gold, #D4B55A);
            color: #111;
        }

        .pyramid-block {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2.5em;
            height: 2.5em;
            font-weight: bold;
            border: 2px solid var(--border-color, #888);
            border-radius: 6px;
            background-color: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            position: relative;
        }

        .pyramid-block.selected {
            background-color: var(--ancient-gold, #D4B55A);
            color: #111;
            border-color: var(--ancient-gold, #D4B55A);
        }

        /* Hover highlight */
        .pyramid-block:hover:not(.assigned) {
            background-color: rgba(212, 181, 90, 0.35);
            border-color: var(--bright-gold, #D4B55A);
        }

        /* Assigned block style */
        .pyramid-block.assigned {
            background-color: var(--background-grey-1, #888);
            color: #222;
            cursor: pointer;
            border-color: var(--ancient-gold, #d4b55a);
        }

        /* Icon inside assigned block */
        .pyramid-block img {
            width: 26px;
            height: 26px;
            vertical-align: middle;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        /* Hide the number if assigned (since icon shows) */
        .pyramid-block.assigned span {
            display: none;
        }

        /* Controls below pyramid */
        .pyramid-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.95rem;
            color: var(--text-color, #eee);
        }

        .pyramid-controls button {
            background-color: var(--ancient-gold, #d4b55a);
            border: none;
            color: #222;
            padding: 0.3em 0.8em;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-family: var(--default-font), serif;
        }

        .pyramid-controls button:hover {
            background-color: var(--ancient-gold, #d4b55a);
        }

        /* ───── Popup Styles ───── */

        .popup {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            padding: 1.5em;
            border-radius: 10px;
            max-width: 500px;
            width: 90vw;
            max-height: 90vh;
            height: 90vw;
            overflow-y: auto;
            text-align: center;
            color: #eee;
            display: none;
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE e Edge */
            pointer-events: none;
        }

        .popup::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, Opera */
        }

        .popup.show {
            display: block;
            pointer-events: auto;
        }

        .popup-content {
            background: #1f1f1f;
            border-radius: 12px;
            padding: 1.2em 1.6em;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 320px;
            max-width: 90vw;
            box-shadow: 0 0 15px rgba(212, 181, 90, 0.6);
            text-align: center;
            font-family: var(--default-font), serif;
            color: var(--text-color, #eee);
        }

        .popup-content h4 {
            margin: 0 0 0.6em 0;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--ancient-gold, #d4b55a);
        }

        .popup-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8em;
            justify-content: center;
            margin-bottom: 1em;
        }

        .popup-option {
            border: 2px solid transparent;
            padding: 6px;
            margin: 4px;
            background: #222;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.25s ease, border-color 0.25s ease;
            filter: grayscale(0);
        }

        .popup-option.current {
            border-color: var(--ancient-gold);
            background-color: rgba(212, 181, 90, 0.15);
            filter: none;
        }

        .popup-option:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            filter: grayscale(1);
            border-color: transparent;
            background-color: #111;
        }

        .popup-option img {
            width: 28px;
            height: 28px;
            pointer-events: none;
        }

        .popup-option:hover {
            background-color: var(--ancient-gold, #d4b55a);
            border-color: #f0de88;
        }

        #popup-cancel {
            background: transparent;
            border: none;
            color: var(--ancient-gold, #d4b55a);
            font-size: 1rem;
            cursor: pointer;
            font-family: var(--default-font), serif;
            font-weight: 600;
            transition: color 0.3s ease;
            padding: 0.3em 0.6em;
        }

        #popup-cancel:hover {
            color: #f0de88;
            text-decoration: underline;
        }

        /* Responsive tweaks */
        @media (max-width: 390px) {
            .pyramid-block {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }

            .popup-content {
                width: 280px;
            }

            .aptitude-grid-container {
                grid-template-columns: none;
            }

            .aptitude-top-combat,
            .aptitude-top-exploration,
            .aptitude-top-social {
                min-height: auto;
            }
        }



        /* ── VSC EDITING ─────────────── */
        html[data-env="vsc"] .page-columns {
            outline: 1px dashed green;
        }

        html[data-env="vsc"] {
            background-color: rgba(48, 48, 48, 1);
            overflow: scroll !important;
            max-width: 940px;
        }
        /* ────────────────────────────── */
    </style>
</head>

<body>

    <div class="page-columns">
        <div class="page-lore">

            <header class="seeker-title">
                <div class="title-container">
                    <span class="title-icon">🜍</span>
                    <h1>Aptitudes</h1>
                    <span class="title-icon flipped">🜍</span>
                </div>
                <p class="subtitle">A Seeker's true compass</p>
            </header>

            <!-- ─────────────── RULE OPTIONS BOX ─────────────── -->
            <section class="rule-options-box">
                <div class="rule-options-label">Rule Options</div>

                <div class="toggle-bar">

                    <label class="rule-switch" style="cursor: not-allowed;">
                        <input type="checkbox" data-rule="polarity" disabled style="cursor: not-allowed;" />
                        <span class="slider"></span>
                        <span class="label">Polarity</span>
                        <span class="rule-tag experimental tooltip" data-tooltip-key="experimental-rule">
                            Experimental
                        </span>
                    </label>

                </div>
            </section>

            <!-- ─────────────── MAIN CONTENT ─────────────── -->

            <section class="section-wrapper">
                <div class="section-number">Section I</div>
                <h2 class="section" id="aptitudes">
                    Core Concept
                    <span class="section-ornament">⸺ ✦ ⸺</span>
                </h2>
                <p>In Seeker, every meaningful action a character takes — whether leaping over a chasm, resisting an
                    ancient curse, or negotiating with a wary native tribe — is rooted in one of their core Aptitudes.
                </p>

                <p>Aptitudes represent the essential physical, mental, and social capabilities of a Seeker. Rather than
                    relying on long lists of predefined skills, Seeker distills character ability into nine core
                    attributes, each one reflecting a broad aspect of how a character interacts with the world.</p>

                <p>Each action, challenge, or conflict in the game is framed through one or more Aptitudes. Whether a
                    character excels through brute Force, clever improvisation, or careful observation, their Aptitudes
                    define how they attempt to shape their surroundings — and how well they are likely to succeed.</p>

                <p>This chapter explains what the Aptitudes are, how they are used during play, how characters select
                    their values at creation, and how they interact with the core resolution system.</p>
            </section>
            <section class="section-wrapper">
                <div class="section-number">Section II</div>
                <h2 class="section" id="aptitudes">
                    The Nine Aptitudes
                    <span class="section-ornament">⸺ ✦ ⸺</span>
                </h2>
                <p>
                    In Seeker, each Aptitude is normally rated from <strong>1</strong> (basic competence) to
                    <strong>5</strong> (extraordinary mastery).
                </p>

                <p>
                    <strong>Minimum scores</strong> represent the lower end of capable human performance. A Seeker with
                    Strength 1 is not weak — they are simply not exceptional. <strong>Maximum scores</strong> (4 and 5)
                    are attainable through natural character progression and reflect the pinnacle of human potential —
                    sometimes already bordering on the extraordinary. Values beyond <strong>5</strong>, while not
                    normally available, may be temporarily or permanently achieved through <em>Masteries</em>, powerful
                    equipment, arcane influence, or narrative effects.
                </p>

                <p>
                    Certain <strong>NPCs or supernatural beings</strong> may ignore these limits entirely, embodying
                    truly alien or divine forces. The rules intentionally allow flexibility for how Aptitude values are
                    interpreted and presented.
                </p>

                <div class="collapsible-item">
                    <div class="collapsible-header">
                        <strong>Optional Tone Adjustments</strong>
                        <div class="collapsible-icon">▸</div>
                    </div>
                    <div class="collapsible-content">
                        <p><strong>Low Fantasy:</strong> Treat Aptitude 1 as a sign of actual deficiency, and 3 as a
                            rare peak of mortal ability.</p>
                        <p><strong>High Fantasy:</strong> Aptitude 1 may already imply heroic capability, with values
                            above 3 representing divine favor or arcane empowerment.</p>
                        <p><strong>Survival Horror:</strong> Even Aptitude 3 can feel inadequate when facing unknowable
                            threats. Use relative scale to emphasize dread and vulnerability.</p>
                    </div>
                </div>

                <p>The following section breaks down each of the nine Aptitudes individually, offering guidance on when
                    to apply them in play and how they shape a Seeker’s approach to challenges. Grouped into
                    <strong>Combat</strong>, <strong>Exploration</strong>, and <strong>Social</strong> categories, these
                    traits define the core capacities of every adventurer — from raw strength and sharp wit to charm,
                    intuition, and adaptability.
                </p>


                <h3>Combat Aptitudes</h3>
                <p class="aptitude-category-description">These aptitudes reflect your character's physical prowess,
                    ability to engage in direct conflict, and resilience in dangerous situations. They are crucial
                    for
                    overcoming physical challenges and confronting threats head-on.</p>

                <div class="aptitude-grid-container">

                    <div class="aptitude-card">
                        <div class="aptitude-top-combat">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_e0078b3b518f46beb99ff50d4336685e~mv2.webp"
                                        alt="Strength"></div>
                            </div>
                            <h4>Strength</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Raw physical power, brute force, and the capacity to lift,
                                    shove, strike, or break through obstacles using over&shy;whelm&shy;ing strength and
                                    effort.</p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Weak</u> (1), <u>Mighty</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Breaking down doors, lifting rubble,
                                    shoving obstacles, grappling enemies, wielding heavy weapons.</p>
                            </details>
                        </div>
                    </div>



                    <div class="aptitude-card">
                        <div class="aptitude-top-combat">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_f6826a077a9c4e40a2c7302207c3cbb8~mv2.webp"
                                        alt="+"></div>
                            </div>
                            <h4>Agility</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Quick reflexes, balance, speed, coordination, and precise
                                    control over fine motor movements — especially under pressure or in dynamic
                                    environments.
                                </p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Clumsy</u> (1), <u>Swift</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Dodging attacks, sneaking past enemies, climbing walls, leaping over gaps, or
                                    making quick precise movements under pressure.</p>
                            </details>
                        </div>
                    </div>



                    <div class="aptitude-card">
                        <div class="aptitude-top-combat">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_6ff7c4d64af644e387b7350aec109252~mv2.webp"
                                        alt="Vigor"></div>
                            </div>
                            <h4>Vigor</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Stamina, resilience, and physical durability — the ability to
                                    endure pain, resist harm, and keep going despite exhaustion, illness, or injury.</p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Frail</u> (1), <u>Resilient</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Withstanding poison or illness,
                                    enduring harsh climates, resisting fatigue, or pushing the body through pain and
                                    exhaustion.</p>
                            </details>
                        </div>
                    </div>
                </div>

                <h3>Exploration Aptitudes</h3>
                <p class="aptitude-category-description">These aptitudes define your character's capacity for discovery,
                    problem-solving, and interacting with the environment. They are essential for navigating unknown
                    territories,
                    understanding ancient lore, and utilizing resources effectively.</p>

                <div class="aptitude-grid-container">

                    <div class="aptitude-card">
                        <div class="aptitude-top-exploration">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_7cd2d3c2064e462392d9195b0fc80d20~mv2.webp"
                                        alt="Perception"></div>
                            </div>
                            <h4>Perception</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Awareness, observation skills, and the ability to notice
                                    details, detect hidden dangers, or sense subtle changes in the environment.</p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Distracted</u> (1), <u>Vigilant</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Spotting traps, noticing ambushes, reading hidden expressions, navigating in darkness
                                    or fog, reacting to sudden sounds or movement.</p>
                            </details>
                        </div>
                    </div>

                    <div class="aptitude-card">
                        <div class="aptitude-top-exploration">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_09e759af8f6c471db2f82bb923085fc9~mv2.webp"
                                        alt="Intellect"></div>
                            </div>
                            <h4>Intellect</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Logic, memory, reasoning, and the capacity to analyze
                                    information, solve problems, and un&shy;der&shy;stand complex or abstract concepts.
                                </p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Dull</u> (1), <u>Brilliant</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Deciphering ancient texts, recalling lore, solving puzzles, analyzing magical
                                    effects, planning tactics, or identifying weaknesses.</p>
                            </details>
                        </div>
                    </div>

                    <div class="aptitude-card">
                        <div class="aptitude-top-exploration">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_37ddab5030984b9d88e6700ff7987c9c~mv2.webp"
                                        alt="Adaptability"></div>
                            </div>
                            <h4>Adaptability</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Improvisation, creativity under pressure, and the ability to
                                    react quickly and re&shy;source&shy;fully to un&shy;ex&shy;pect&shy;ed situations or
                                    unfamiliar tools.</p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Rigid</u> (1), <u>Versatile</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Using improvised weapons, jury-rigging equipment, reacting to environmental hazards,
                                    disarming traps without proper tools, or surviving in unfamiliar terrain.</p>
                            </details>
                        </div>
                    </div>
                </div>

                <h3>Social Aptitudes</h3>
                <p class="aptitude-category-description">These aptitudes govern your character's ability to navigate
                    complex
                    social landscapes, influence others, and understand the intricate dynamics of interpersonal
                    relationships.
                    They are vital for diplomacy, deception, and leadership.</p>

                <div class="aptitude-grid-container">

                    <div class="aptitude-card">
                        <div class="aptitude-top-social">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_f5a492c58a7b4475af796667a2d3d286~mv2.webp"
                                        alt="Charisma"></div>
                            </div>
                            <h4>Charisma</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Presence, personal magnetism, and the ability to influence
                                    others through charm, confidence, or emotional appeal — whether inspiring trust,
                                    com&shy;mand&shy;ing respect, or bending a crowd to your will.</p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Uncouth</u> (1), <u>Magnetic</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Persuading skeptical NPCs, giving stirring speeches, deceiving others with charm,
                                    leading a group under pressure, or diffusing tension through charisma alone.</p>
                            </details>
                        </div>
                    </div>

                    <div class="aptitude-card">
                        <div class="aptitude-top-social">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_7650a457568e44a286ed7bd3535fac1f~mv2.webp"
                                        alt="Insight"></div>
                            </div>
                            <h4>Insight</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Empathy, intuition, and social sensitivity — the ability to
                                    interpret tone, read subtle cues in body language, discern hidden motives, and grasp
                                    emotional un&shy;der&shy;cur&shy;rents in con&shy;ver&shy;sa&shy;tions and
                                    situations.
                                </p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags"><b>Tags:</b> <u>Naive</u> (1), <u>Discerning</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Empathy, emotional perception, and the ability to interpret subtle cues — whether
                                    reading someone’s mood, spotting a lie, or understanding hidden motives and
                                    emotional undercurrents.</p>
                            </details>
                        </div>
                    </div>

                    <div class="aptitude-card">
                        <div class="aptitude-top-social">
                            <div class="icon">
                                <div class="icon-inner"><img class="shadowed"
                                        src="https://static.wixstatic.com/media/e40a82_9707a745898842788e52d6bf7c621d61~mv2.webp"
                                        alt="Willpower"></div>
                            </div>
                            <h4>Willpower</h4>
                            <div class="aptitude-description-container">
                                <p class="aptitude-what">Mental fortitude, discipline, and inner resolve — the strength
                                    to resist fear, withstand stress, endure ma&shy;nip&shy;u&shy;la&shy;tion, or remain
                                    focused under o&shy;ver&shy;whelm&shy;ing pressure.</p>
                            </div>
                        </div>
                        <div class="aptitude-bottom">
                            <p class="tags">
                            <p class="tags"><b>Tags:</b> <u>Volatile</u> (1), <u>Stoic</u> (5)</p>
                            <details class="aptitude-collapsible">
                                <summary><strong>Used for:</strong></summary>
                                <p>Resisting magical influence, pushing through fear, keeping composure under threat,
                                    refusing coercion, or maintaining clarity in chaotic or stressful situations.</p>
                            </details>
                        </div>
                    </div>
                </div>
            </section>


            <section class="section-wrapper">
                <div class="section-number">Section III</div>
                <h2 class="section" id="aptitudes">
                    Assigning Scores
                    <span class="section-ornament">⸺ ✦ ⸺</span>
                </h2>
                <p>
                    At <strong>character creation</strong>, players must determine their Seeker’s starting Aptitudes.
                    There are
                    <em>no modifiers</em> from race, background, or class: all characters begin with the <strong>same
                        opportunities</strong>
                    to shape their strengths. Two <strong>optional methods</strong> are provided for assigning Aptitude
                    scores,
                    each offering a different approach to building a <em>balanced</em> and <em>unique</em> explorer.
                </p>

                <h3>Method 1: Point Buy</h3>
                <p>
                    In the <strong>Point Buy</strong> method, all Aptitudes start at a baseline of <strong>1</strong>.
                    Players then
                    have <strong>6 additional points</strong> to distribute freely among the nine Aptitudes, allowing
                    them to
                    customize their character’s strengths according to their concept.
                </p>
                <p>
                    No Aptitude may be raised above <strong>3</strong> during character creation, ensuring a
                    <em>balanced distribution</em>
                    of abilities. The total sum of all Aptitude scores will therefore be <strong>15</strong>,
                    representing a capable
                    but not overpowered Seeker.
                </p>
                <p>
                    This method offers <em>fine control</em> and supports specific character concepts, encouraging
                    players to focus on
                    one or two areas of expertise while maintaining overall versatility.
                </p>

                <!-- POINT BUY CALCULATOR -->
                <h4 class="section-sub">Interactive Point Buy Calculator</h4>
                <p class="calculator-description">Distribute <strong>6 points</strong> among your Aptitudes. No
                    Aptitude may exceed <strong>3</strong>. All start at <strong>1</strong>.</p>
                <div class="calculator">
                    <div class="aptitude-row" data-aptitude="Strength">
                        <img src="https://static.wixstatic.com/shapes/e40a82_7e1d9de23f2645b988a5d5e3c22c8231.svg"
                            class="aptitude-icon" alt="Strength">
                        <span class="aptitude-label">Strength</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Agility">
                        <img src="https://static.wixstatic.com/shapes/e40a82_ce3f5a9ea70f4af5a634742be8d043ad.svg"
                            class="aptitude-icon" alt="Agility">
                        <span class="aptitude-label">Agility</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Vigor">
                        <img src="https://static.wixstatic.com/shapes/e40a82_cf217ba8adbb478e9fd4cb8cd464bdd6.svg"
                            class="aptitude-icon" alt="Vigor">
                        <span class="aptitude-label">Vigor</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Perception">
                        <img src="https://static.wixstatic.com/shapes/e40a82_d8b41b7bd36a4230929131bc44276eb7.svg"
                            class="aptitude-icon" alt="Perception">
                        <span class="aptitude-label">Perception</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Insight">
                        <img src="https://static.wixstatic.com/shapes/e40a82_6da737fa86b1492cb32a571f1f2f8e62.svg"
                            class="aptitude-icon" alt="Insight">
                        <span class="aptitude-label">Insight</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Adaptability">
                        <img src="https://static.wixstatic.com/shapes/e40a82_cba6d08d5b93403798c6ddc1418d2c4f.svg"
                            class="aptitude-icon" alt="Adaptability">
                        <span class="aptitude-label">Adaptability</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Willpower">
                        <img src="https://static.wixstatic.com/shapes/e40a82_70b95ae668b245ccb152aa17228996ad.svg"
                            class="aptitude-icon" alt="Willpower">
                        <span class="aptitude-label">Willpower</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Intellect">
                        <img src="https://static.wixstatic.com/shapes/e40a82_81b63b524d76464eaf071b4f5cd9ab87.svg"
                            class="aptitude-icon" alt="Intellect">
                        <span class="aptitude-label">Intellect</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                    <div class="aptitude-row" data-aptitude="Charisma">
                        <img src="https://static.wixstatic.com/shapes/e40a82_57fbbea322f14072915fe83908e360df.svg"
                            class="aptitude-icon" alt="Charisma">
                        <span class="aptitude-label">Charisma</span>
                        <div class="calculator-buttons">
                            <button class="minus-btn">-</button>
                            <span class="aptitude-value">1</span>
                            <button class="plus-btn">+</button>
                        </div>
                    </div>
                </div>


                <div class="calculator-footer">
                    <p><strong>Points used:</strong> <span id="point-used">0</span>/6 <span id="point-warning"></span>
                    </p>
                    <button id="reset-button">Reset</button>
                    <button id="copy-button">Copy Results</button>
                </div>

                <h3>Method 2: Pyramid Build</h3>
                <p>
                    The <strong>Pyramid Build</strong> method provides a more structured approach to Aptitude
                    assignment. Players allocate
                    their scores following the shape of a pyramid:
                </p>

                <!-- Pyramid Selector Start -->
                <div class="pyramid-selector" style="position: relative">
                    <p class="calculator-description">Click a box to assign Aptitudes.<br>Each Aptitude can only be used
                        once.</p>
                    <div class="pyramid-container">
                        <div class="pyramid-row pyramid-top">
                            <div class="pyramid-block" data-value="3" title="+3"></div>
                        </div>
                        <div class="pyramid-row pyramid-mid">
                            <div class="pyramid-block" data-value="2" title="+2"></div>
                            <div class="pyramid-block" data-value="2" title="+2"></div>
                            <div class="pyramid-block" data-value="2" title="+2"></div>
                        </div>
                        <div class="pyramid-row pyramid-bottom">
                            <div class="pyramid-block" data-value="1" title="+1"></div>
                            <div class="pyramid-block" data-value="1" title="+1"></div>
                            <div class="pyramid-block" data-value="1" title="+1"></div>
                            <div class="pyramid-block" data-value="1" title="+1"></div>
                            <div class="pyramid-block" data-value="1" title="+1"></div>
                        </div>
                    </div>

                    <div id="aptitude-popup" class="popup">
                        <div class="popup-content">
                            <h4>Assign Aptitude</h4>
                            <div class="popup-options">
                                <button class="popup-option" data-aptitude="Strength" title="Strength">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_7e1d9de23f2645b988a5d5e3c22c8231.svg"
                                        alt="Strength">
                                </button>
                                <button class="popup-option" data-aptitude="Agility" title="Agility">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_ce3f5a9ea70f4af5a634742be8d043ad.svg"
                                        alt="Agility">
                                </button>
                                <button class="popup-option" data-aptitude="Vigor" title="Vigor">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_cf217ba8adbb478e9fd4cb8cd464bdd6.svg"
                                        alt="Vigor">
                                </button>
                                <button class="popup-option" data-aptitude="Perception" title="Perception">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_d8b41b7bd36a4230929131bc44276eb7.svg"
                                        alt="Perception">
                                </button>
                                <button class="popup-option" data-aptitude="Insight" title="Insight">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_6da737fa86b1492cb32a571f1f2f8e62.svg"
                                        alt="Insight">
                                </button>
                                <button class="popup-option" data-aptitude="Adaptability" title="Adaptability">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_cba6d08d5b93403798c6ddc1418d2c4f.svg"
                                        alt="Adaptability">
                                </button>
                                <button class="popup-option" data-aptitude="Willpower" title="Willpower">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_70b95ae668b245ccb152aa17228996ad.svg"
                                        alt="Willpower">
                                </button>
                                <button class="popup-option" data-aptitude="Intellect" title=">Intellect">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_81b63b524d76464eaf071b4f5cd9ab87.svg"
                                        alt="Intellect">
                                </button>
                                <button class="popup-option" data-aptitude="Charisma" title="Charisma">
                                    <img src="https://static.wixstatic.com/shapes/e40a82_57fbbea322f14072915fe83908e360df.svg"
                                        alt="Charisma">
                                </button>
                            </div>
                            <button id="popup-cancel">Cancel</button>
                        </div>
                    </div>

                    <div class="pyramid-controls">
                        <p><strong>Assigned:</strong> <span id="assigned-count">0</span> / 9</p>
                        <button id="reset-pyramid">Reset</button>
                    </div>
                </div>
                <!-- Pyramid Calculator End -->
                <ul class="pyramid-list">
                    <li>
                        <strong>Primary Strength:</strong> Choose <strong>1 Aptitude</strong> to assign a score of
                        <strong>3</strong>. This represents your Seeker's peak talent — their most defining trait.
                    </li>
                    <li>
                        <strong>Core Competencies:</strong> Assign a score of <strong>2</strong> to <strong>3
                            Aptitudes</strong>. These are reliable areas of capability — things your Seeker has
                        developed with some experience.
                    </li>
                    <li>
                        <strong>Underdeveloped Areas:</strong> The remaining <strong>5 Aptitudes</strong> stay at a base
                        score of <strong>1</strong>. These may represent untapped potential, weaknesses, or simply
                        unexplored paths.
                    </li>
                </ul>

                <p>
                    This structure results in a total of <strong>15</strong> Aptitude points, just like the Point Buy
                    method, but with a
                    natural <em>focus</em> in a single area and a more organic distribution across the others.
                </p>

                <blockquote>
                    <p>Both methods aim to balance <strong>narrative flexibility</strong> with <strong>mechanical
                            clarity</strong>. Game Masters are encouraged to
                        allow one or both options during character creation, or to offer additional points in
                        high-powered campaigns
                        to fit their desired tone and challenge level.
                    </p>
                </blockquote>
            </section>

            <section class="section-wrapper">
                <div class="section-number">Section IV</div>
                <h2 class="section" id="using-aptitudes">
                    Using Aptitudes in Play
                    <span class="section-ornament">⸺ ✦ ⸺</span>
                </h2>

                <p>
                    In Seeker, Aptitudes serve as the foundation for nearly every action a character attempts,
                    shaping both the narrative and mechanical resolution. When a player declares an action, the Game
                    Master (GM) determines which Aptitude(s) best represent the character’s effort in that moment.
                </p>

                <p>
                    The core mechanic for resolving actions is the <strong>Twin Coil System</strong>, which relies on
                    rolling <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice"> and <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice">. Aptitude scores directly influence the number of <img
                        class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice"> a
                    character rolls, representing their skill and capability in that area.
                </p>

                <h3>Determining Aptitudes for an Action</h3>
                <p>
                    When a character attempts a task, the GM identifies the primary Aptitude that governs the action.
                    For example:
                </p>
                <ul>
                    <li><strong>Breaking down a door</strong> calls for <em>Strength</em>.</li>
                    <li><strong>Climbing a cliff</strong> involves <em>Agility</em>.</li>
                    <li><strong>Noticing a hidden trap</strong> uses <em>Perception</em>.</li>
                    <li><strong>Negotiating a delicate alliance</strong> requires <em>Charisma</em>.</li>
                </ul>

                <p>
                    Some complex tasks may involve multiple Aptitudes. In these cases, the GM may call for multiple
                    rolls or allow the player to choose which Aptitude to apply, depending on the situation.
                </p>

                <h3>Rolling the Dice</h3>
                <p>
                    The number of <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice"> rolled equals the character’s Aptitude score for the
                    relevant attribute. Each die showing <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-green-5.svg" alt="5"
                        title="5">
                    <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-green-6.svg" alt="6"
                        title="6"> counts as a success. Successes allow the character to
                    overcome the challenge.
                </p>
                <p>
                    <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice"> represent potential complications or consequences and are
                    assigned by the
                    GM based on the difficulty or danger involved. Any <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-red-6.svg" alt="6"
                        title="6"> triggers a complication,
                    regardless of success or failure.
                </p>
                <p>
                    This mechanic adds narrative depth by rewarding characters who act in ways consistent with their
                    chosen style, while increasing risk when they stray from it.
                </p>

                <h3>Interpreting Results</h3>
                <p>
                    The number of successes on <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice"> determines the degree of success, from barely succeeding
                    to
                    spectacular feats. The presence of complications from <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice"> introduces tension and narrative
                    twists, even in success.
                </p>

                <h3>Examples</h3>
                <p>
                    <strong>Example 1:</strong> A character with Strength 2 tries to break down a heavy wooden door.
                    They roll 2 <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice">. The GM assigns 1 <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice"> due to the door’s solid construction. If they
                    roll one or more successes on <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice"> without a <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice"> 6, the door breaks down cleanly. If a
                    <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice"> shows a <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-red-6.svg" alt="6"
                        title="6">, perhaps the door breaks but causes noise, alerting nearby enemies.
                </p>
                <p>
                    <strong>Example 2:</strong> A character with Perception 3 attempts to spot a hidden trap. They roll
                    3 <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-action.svg"
                        alt="Action Dice" title="Action Dice">, with 1 <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-risk.svg"
                        alt="Risk Dice" title="Risk Dice"> assigned for the trap’s subtle design. Success reveals the
                    trap in
                    time; a <img class="dice-symbol"
                        src="/assets/icons/svg/dice/dice-red-6.svg" alt="6"
                        title="6"> might mean they notice the trap but trigger a secondary alarm.
                </p>
            </section>



        </div>
    </div>

    <script src="https://glaeder27.github.io/seeker-ttrpg/scripts/generalScripts.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const pyramidBlocks = document.querySelectorAll('.pyramid-block');
            const popup = document.getElementById('aptitude-popup');
            const popupOptions = document.querySelectorAll('.popup-option');
            const popupCancel = document.getElementById('popup-cancel');
            const assignedCount = document.getElementById('assigned-count');
            const resetPyramid = document.getElementById('reset-pyramid');

            let selectedBlock = null;
            const assignedAptitudes = new Set();

            function updatePopupOptions() {
                const currentAptitude = selectedBlock.dataset.aptitude || null;

                popupOptions.forEach(option => {
                    const aptitude = option.dataset.aptitude;
                    if (aptitude === currentAptitude) {
                        option.disabled = false;
                        option.classList.add('current');
                    } else if (assignedAptitudes.has(aptitude)) {
                        option.disabled = true;
                        option.classList.remove('current');
                    } else {
                        option.disabled = false;
                        option.classList.remove('current');
                    }
                });
            }

            pyramidBlocks.forEach(block => {
                block.addEventListener('click', () => {
                    selectedBlock = block;
                    popup.classList.add('show');
                    updatePopupOptions();
                });
            });

            popupOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const newAptitude = option.dataset.aptitude;
                    const oldAptitude = selectedBlock.dataset.aptitude;

                    if (assignedAptitudes.has(newAptitude) && newAptitude !== oldAptitude) return;

                    if (oldAptitude) {
                        assignedAptitudes.delete(oldAptitude);
                    }

                    const img = option.querySelector('img').cloneNode(true);
                    img.classList.add('assigned-icon');

                    selectedBlock.innerHTML = '';
                    selectedBlock.appendChild(img);
                    selectedBlock.classList.add('assigned');
                    selectedBlock.dataset.aptitude = newAptitude;

                    selectedBlock.setAttribute('title', `${newAptitude} +${selectedBlock.dataset.value}`);

                    assignedAptitudes.add(newAptitude);
                    assignedCount.textContent = assignedAptitudes.size;

                    popup.classList.remove('show');
                    selectedBlock = null;
                });
            });

            popupCancel.addEventListener('click', () => {
                popup.classList.remove('show');
                selectedBlock = null;
            });

            resetPyramid.addEventListener('click', () => {
                pyramidBlocks.forEach(block => {
                    block.innerHTML = '';
                    block.classList.remove('assigned');
                    delete block.dataset.aptitude;
                });
                assignedAptitudes.clear();
                assignedCount.textContent = '0';
            });
        });

        // Point Buy Calculator
        const rows = document.querySelectorAll('.aptitude-row');
        const resetBtn = document.getElementById('reset-button');
        const copyBtn = document.getElementById('copy-button');
        const maxPoints = 6;
        const minValue = 1;
        const maxValue = 3;

        function getTotalPointsUsed() {
            let total = 0;
            rows.forEach(row => {
                const val = parseInt(row.querySelector('.aptitude-value').textContent);
                total += val - minValue;
            });
            return total;
        }

        function updateDisplay() {
            const totalUsed = getTotalPointsUsed();
            const remaining = maxPoints - totalUsed;

            // Aggiorna punti rimanenti nel DOM
            const remainingDisplay = document.getElementById('remaining-points');
            if (remainingDisplay) remainingDisplay.textContent = remaining;

            // Disabilita i + se non ci sono punti rimanenti
            rows.forEach(row => {
                const valSpan = row.querySelector('.aptitude-value');
                const plusBtn = row.querySelector('.plus-btn');
                const minusBtn = row.querySelector('.minus-btn');
                const val = parseInt(valSpan.textContent);

                plusBtn.disabled = val >= maxValue || remaining <= 0;
                minusBtn.disabled = val <= minValue;
            });
        }

        rows.forEach(row => {
            const plusBtn = row.querySelector('.plus-btn');
            const minusBtn = row.querySelector('.minus-btn');
            const valSpan = row.querySelector('.aptitude-value');

            plusBtn.addEventListener('click', () => {
                let val = parseInt(valSpan.textContent);
                const totalUsed = getTotalPointsUsed();

                if (val < maxValue && totalUsed < maxPoints) {
                    val++;
                    valSpan.textContent = val;
                    updateDisplay();
                }
            });

            minusBtn.addEventListener('click', () => {
                let val = parseInt(valSpan.textContent);
                if (val > minValue) {
                    val--;
                    valSpan.textContent = val;
                    updateDisplay();
                }
            });
        });

        resetBtn.addEventListener('click', () => {
            rows.forEach(row => {
                row.querySelector('.aptitude-value').textContent = minValue;
            });
            updateDisplay();
        });

        copyBtn.addEventListener('click', () => {
            let result = "Aptitude Scores:\n";
            rows.forEach(row => {
                const label = row.getAttribute('data-aptitude');
                const val = row.querySelector('.aptitude-value').textContent;
                result += `• ${label}: ${val}\n`;
            });
            navigator.clipboard.writeText(result);
            copyBtn.textContent = "Copied!";
            setTimeout(() => copyBtn.textContent = "Copy Build", 1500);
        });

        updateDisplay();

        function updateMaxedAptitudes() {
            const values = document.querySelectorAll('.aptitude-value');
            values.forEach(span => {
                if (parseInt(span.textContent, 10) === 3) {
                    span.classList.add('maxed');
                } else {
                    span.classList.remove('maxed');
                }
            });
        }

        updateMaxedAptitudes();

        document.querySelectorAll('.plus-btn, .minus-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                updateMaxedAptitudes();
            });
        });

    </script>



</body>

</html>